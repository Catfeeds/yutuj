<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>login</title>
    <link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://cdn.bootcss.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/vue/2.5.9/vue.js"></script>
    <script src="https://cdn.bootcss.com/axios/0.17.1/axios.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/4.0.0-beta.2/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="../css/css.css">
</head>
<body>
<div class="bg-login position-fixed" id="app">
    <div class="panel-login position-fixed">
        <p class="text-center"><img src="../img/logo_login.png" alt="logo_login"></p>
        <form class="position-relative" v-on:submit.prevent="onSubmit">
            <transition name="fade">
                <div class="position-absolute text-danger error" v-if="error">
                    <i class="fa fa-info-circle"></i> {{ errMsg }}
                </div>
            </transition>
            <div class="form-group">
                <input type="text" class="form-control" placeholder="请输入手机号" v-model="tel">
            </div>
            <div class="form-group">
                <input type="password" class="form-control" placeholder="请输入密码" v-model="password">
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-warning btn-block text-white">登录</button>
            </div>
            <p class="clearfix">
                <a href="forgot.html" class="float-left text-muted">忘记密码</a>
                <span class="float-right">还没有账号？<a href="register.html" class="text-warning">点击注册>></a></span>
            </p>
            <hr>
            <p class="text-muted mb-1">用第三方账户直接登录</p>
            <div class="text-center text-muted clearfix">
                <p class="float-left pr-2 pr-2 mb-0">
                     <span class="fa-stack fa-2x">
                        <i class="fa fa-circle fa-stack-2x text-warning"></i>
                        <i class="fa fa-qq fa-stack-1x fa-inverse"></i>
                    </span>
                    <br>QQ
                </p>
                <p class="float-left pr-2 mb-0">
                    <span class="fa-stack fa-2x">
                        <i class="fa fa-circle fa-stack-2x text-warning"></i>
                        <i class="fa fa-wechat fa-stack-1x fa-inverse"></i>
                    </span>
                    <br>微信
                </p>
            </div>
        </form>
    </div>
</div>
<script>
    const app = new Vue({
        el: '#app',
        data: {
            error: false,
            errMsg: '',
            tel: '',
            password: ''
        },
        methods: {
            onSubmit() {
                if (this.checkTel() && this.checkPwd()) {
                    this.resetError()
                    alert('登录操作')
                }
            },
            resetError() {
                this.error = false
                this.errMsg = ''
            },
            checkTel() {
                if (this.tel.length === 0) {
                    this.error = true
                    this.errMsg = '请输入手机号码'
                    return false
                }
                let reg = /^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/;
                if (!reg.test(this.tel)) {
                    this.error = true
                    this.errMsg = '请输入有效的手机号码'
                    return false;
                }
                return true
            },
            checkPwd() {
                if (this.password.length === 0) {
                    this.error = true
                    this.errMsg = '请输入密码'
                    return false
                }
                if (this.password.length < 6) {
                    this.error = true
                    this.errMsg = '请输入至少6位密码'
                    return false
                }
                return true
            }
        }
    })
</script>
</body>
</html>